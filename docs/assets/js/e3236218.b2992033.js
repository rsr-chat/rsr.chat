"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[837],{7145(e,t,n){n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"proto/registration","title":"Accounts and Registration","description":"The RSR protocol does not specify nor control user","source":"@site/content/proto/400_accounts_reg.md","sourceDirName":"proto","slug":"/proto/registration","permalink":"/docs/proto/registration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":400,"frontMatter":{"id":"registration","sidebar_position":400},"sidebar":"protoSidebar","previous":{"title":"Core IRCv3 Protocol","permalink":"/docs/proto/core-proto"},"next":{"title":"Content Ownership Model","permalink":"/docs/proto/data-ownership"}}');var r=n(4848),o=n(8453);const s={id:"registration",sidebar_position:400},d="Accounts and Registration",a={},c=[{value:"What is an Identity?",id:"what-is-an-identity",level:2},{value:"Creating a new Identity",id:"creating-a-new-identity",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"accounts-and-registration",children:"Accounts and Registration"})}),"\n",(0,r.jsxs)(t.p,{children:["The RSR protocol does not specify nor control user\nor guild account registration. A user or guild\nidentity is represented by a DID document as specified\nby the ",(0,r.jsx)(t.a,{href:"https://www.w3.org/TR/did-1.0/",children:"W3C Decentralized Identity Document"}),"\nstandard."]}),"\n",(0,r.jsx)(t.h2,{id:"what-is-an-identity",children:"What is an Identity?"}),"\n",(0,r.jsxs)(t.p,{children:["An RSR-compatible identity URL is represented by\na string in the format ",(0,r.jsx)(t.code,{children:"did:mmm:xxxxxxxxxx..."}),", where\n",(0,r.jsx)(t.code,{children:"example"})," is the ",(0,r.jsx)(t.a,{href:"https://www.w3.org/TR/did-1.0/#methods",children:"DID Method"}),"\nused to retrieve the corresponding document and ",(0,r.jsx)(t.code,{children:"xxxx..."}),"\nis the method-specific unique identifier."]}),"\n",(0,r.jsxs)(t.p,{children:["Clients and Servers MUST support at minimum the\n",(0,r.jsx)(t.a,{href:"https://github.com/did-method-plc/did-method-plc",children:(0,r.jsx)(t.code,{children:"plc"})}),",\n",(0,r.jsx)(t.a,{href:"https://github.com/rsr-chat/did-method-ref",children:(0,r.jsx)(t.code,{children:"ref"})}),", and\n",(0,r.jsx)(t.a,{href:"https://w3c-ccg.github.io/did-method-web/",children:(0,r.jsx)(t.code,{children:"web"})})," (TLS only)\nmethods. They MAY support other methods and are encouraged\nto do so."]}),"\n",(0,r.jsx)(t.p,{children:"DID URLs MUST resolve to a JSON document in the following format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "@context": [\n    "https://www.w3.org/ns/did/v1",\n    "https://w3id.org/security/multikey/v1",\n    "https://w3id.org/security/suites/secp256k1-2019/v1"\n  ],\n  "alsoKnownAs": [\n    "rsr://myname.example.com"\n  ],\n  "id": "did:mmm:xxxxxxxxxx...",\n  "service": [\n    {\n      "id": "#rsr_pds",\n      "serviceEndpoint": "https://plc-endpoint.example.com",\n      "type": "AtprotoPersonalDataServer"\n    }\n  ],\n  "verificationMethod": [\n    {\n        "controller": "did:plc:xxxxxxxxxxxxxx",\n        "id": "did:plc:xxxxxxxxxxxxxx...",\n        "publicKeyMultibase": "yyyyyyyyyyyyyyyyyyyy",\n        "type": "Multikey"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"Other fields may be added as per the DID specification;\nthe above example represents the minimal requirements."}),"\n",(0,r.jsxs)(t.p,{children:["Identity-related data are stored in the linked ",(0,r.jsx)(t.code,{children:"#rsr_pds"}),"\nATProto Personal Data Server using the ",(0,r.jsx)(t.code,{children:"chat.rsr"})," lexicons."]}),"\n",(0,r.jsx)(t.h2,{id:"creating-a-new-identity",children:"Creating a new Identity"}),"\n",(0,r.jsx)(t.p,{children:"By design, creation of identities is not specified by the\nRSR protocol. Frontend clients MAY elect to provide a user\ninterface for creating new identities, but MUST never send\ninformation to any server which allows the server to control\nthat identity."}),"\n",(0,r.jsx)(t.p,{children:"In general, clients seeking to create a new identity should\ncreate a DID-complient identity via any compatible mechanism\nand present the user with the keys to that identity record,\nthen register that newly created DID under an ATProto PDS."}),"\n",(0,r.jsx)(t.p,{children:"Clients seeking to use a preexisting identity on behalf of\na user should retrieve an OAuth client grant from the user's\nPDS - this grant must not be sent to any guild or remote\nserver."}),"\n",(0,r.jsx)(t.p,{children:"Guild identities are created identically to user identities;\nthe difference is in what kind of data is available in that\nidentity's PDS."})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453(e,t,n){n.d(t,{R:()=>s,x:()=>d});var i=n(6540);const r={},o=i.createContext(r);function s(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);