"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2875],{1545(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"proto/extensions/emote","title":"rsr.chat/emote","description":"This specification is still a draft and is subject to change at any time.","source":"@site/docs/proto/1500_extensions/emote.md","sourceDirName":"proto/1500_extensions","slug":"/proto/extensions/emote","permalink":"/docs/proto/extensions/emote","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"rsr.chat/emote"},"sidebar":"protoSidebar","previous":{"title":"rsr.chat/did-signing","permalink":"/docs/proto/extensions/did-signing"},"next":{"title":"rsr.chat/extended-line-length","permalink":"/docs/proto/extensions/extended-message-length"}}');var s=i(4848),r=i(8453);const o={title:"rsr.chat/emote"},a="rsr.chat/emote",d={},l=[{value:"Motivation",id:"motivation",level:2},{value:"Capability",id:"capability",level:2},{value:"ISUPPORT Tokens",id:"isupport-tokens",level:2},{value:"Terminology",id:"terminology",level:2},{value:"Emote Identifiers",id:"emote-identifiers",level:2},{value:"Asset Requirements",id:"asset-requirements",level:2},{value:"Inline Emote Token Syntax",id:"inline-emote-token-syntax",level:2},{value:"Inline Emote Tags",id:"inline-emote-tags",level:2},{value:"Commands",id:"commands",level:2},{value:"EMOTE ADD",id:"emote-add",level:3},{value:"EMOTE REMOVE",id:"emote-remove",level:3},{value:"EMOTE RENAME",id:"emote-rename",level:3},{value:"EMOTE LIST",id:"emote-list",level:3},{value:"EMOTE INFO",id:"emote-info",level:3},{value:"Emote Packs",id:"emote-packs",level:2},{value:"EMOTEPAK CREATE",id:"emotepak-create",level:3},{value:"EMOTEPAK ADD",id:"emotepak-add",level:3},{value:"EMOTEPAK REMOVE",id:"emotepak-remove",level:3},{value:"EMOTEPAK DELETE",id:"emotepak-delete",level:3},{value:"EMOTEPAK LIST",id:"emotepak-list",level:3},{value:"Server Numerics",id:"server-numerics",level:2},{value:"Emote Availability by Scope",id:"emote-availability-by-scope",level:2},{value:"Server-global emotes",id:"server-global-emotes",level:3},{value:"Guild-scoped emotes",id:"guild-scoped-emotes",level:3},{value:"Channel-scoped emotes",id:"channel-scoped-emotes",level:3},{value:"Reserved Channel Metadata Key",id:"reserved-channel-metadata-key",level:2},{value:"<code>emotes-enabled</code>",id:"emotes-enabled",level:3},{value:"History Integration",id:"history-integration",level:2},{value:"Guild Integration",id:"guild-integration",level:2},{value:"RBAC Integration",id:"rbac-integration",level:2},{value:"Advanced Moderation Integration",id:"advanced-moderation-integration",level:2},{value:"Interaction with rsr.chat/reactions",id:"interaction-with-rsrchatreactions",level:2},{value:"Interaction with Non-Negotiating Clients",id:"interaction-with-non-negotiating-clients",level:2},{value:"Examples",id:"examples",level:2},{value:"Capability negotiation",id:"capability-negotiation",level:3},{value:"Registering a server-global emote",id:"registering-a-server-global-emote",level:3},{value:"Registering a guild-scoped emote",id:"registering-a-guild-scoped-emote",level:3},{value:"Registering a channel-scoped emote",id:"registering-a-channel-scoped-emote",level:3},{value:"Message delivery with inline emote tags",id:"message-delivery-with-inline-emote-tags",level:3},{value:"Bare name resolved with guild precedence",id:"bare-name-resolved-with-guild-precedence",level:3},{value:"Unresolvable emote token",id:"unresolvable-emote-token",level:3},{value:"EMOTE LIST with batch",id:"emote-list-with-batch",level:3},{value:"Creating and populating an emote pack",id:"creating-and-populating-an-emote-pack",level:3},{value:"Asset validation failure",id:"asset-validation-failure",level:3},{value:"Emote limit reached",id:"emote-limit-reached",level:3},{value:"Category-scoped emote registration",id:"category-scoped-emote-registration",level:3},{value:"Removing an emote",id:"removing-an-emote",level:3}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["This specification is still a ",(0,s.jsx)(n.strong,{children:"draft"})," and is subject to change at any time."]})}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"rsrchatemote",children:"rsr.chat/emote"})}),"\n",(0,s.jsx)(n.p,{children:"This extension defines a server-managed registry of named custom emotes that may be\nreferenced inline in messages using a standard token syntax. Emotes may be scoped to the\nserver, to a guild, or to an individual channel. Each emote is associated with an image\nasset whose URL is advertised to clients."}),"\n",(0,s.jsx)(n.h2,{id:"motivation",children:"Motivation"}),"\n",(0,s.jsxs)(n.p,{children:["Custom emotes are a first-class feature of modern messaging platforms. Without a standard\nmechanism, IRC clients cannot interoperate on emote identity, availability, or rendering.\nAd-hoc conventions such as ",(0,s.jsx)(n.code,{children:":name:"})," text substitutions exist only by client-side agreement\nand carry no server-authoritative asset information. This extension defines a typed,\nnamespaced, server-authoritative emote registry with a negotiated inline token syntax,\nstructured asset delivery, and access controls."]}),"\n",(0,s.jsx)(n.h2,{id:"capability",children:"Capability"}),"\n",(0,s.jsxs)(n.p,{children:["This extension is advertised as the ",(0,s.jsx)(n.code,{children:"rsr.chat/emote"})," capability during CAP negotiation:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"CAP * LS :rsr.chat/emote\n"})}),"\n",(0,s.jsx)(n.p,{children:"No capability value is used. Limits and feature flags are communicated via ISUPPORT (see\nbelow)."}),"\n",(0,s.jsx)(n.h2,{id:"isupport-tokens",children:"ISUPPORT Tokens"}),"\n",(0,s.jsxs)(n.p,{children:["Servers MUST advertise the following tokens in ",(0,s.jsx)(n.code,{children:"RPL_ISUPPORT"})," (005) when this capability\nis active:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMOTEMAX=<n>"})," \u2014 the maximum number of emotes permitted in the server-global registry.\nA value of ",(0,s.jsx)(n.code,{children:"0"})," indicates no server-imposed limit."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMOTEGUILDMAX=<n>"})," \u2014 the maximum number of emotes permitted per guild registry when\n",(0,s.jsx)(n.code,{children:"rsr.chat/guild"})," is negotiated. A value of ",(0,s.jsx)(n.code,{children:"0"})," indicates no limit."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMOTECHANMAX=<n>"})," \u2014 the maximum number of emotes permitted per channel registry.\nA value of ",(0,s.jsx)(n.code,{children:"0"})," indicates no limit."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMOTELEN=<n>"})," \u2014 the maximum byte length of an emote name, excluding the surrounding\ncolons. Servers MUST NOT enforce a value lower than 2 or higher than 64."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMOTEFORMATS=<f1>,<f2>,..."})," \u2014 a comma-separated list of image formats accepted for\nemote asset uploads, in server preference order. Servers MUST support at least ",(0,s.jsx)(n.code,{children:"png"}),"\nand ",(0,s.jsx)(n.code,{children:"webp"}),". Servers MAY additionally support ",(0,s.jsx)(n.code,{children:"gif"})," and ",(0,s.jsx)(n.code,{children:"avif"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EMOTEANIM=1"})," \u2014 present if the server supports animated emote assets (e.g. animated\n",(0,s.jsx)(n.code,{children:"webp"})," or ",(0,s.jsx)(n.code,{children:"gif"}),"). Absent if only static assets are accepted."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":server 005 nick EMOTEMAX=500 EMOTEGUILDMAX=100 EMOTECHANMAX=20 EMOTELEN=32 EMOTEFORMATS=webp,png,gif EMOTEANIM=1 :are supported by this server\n"})}),"\n",(0,s.jsx)(n.p,{children:"If any of these values change after a configuration reload, a fresh RPL_ISUPPORT MUST be\nsent to all connected clients."}),"\n",(0,s.jsx)(n.h2,{id:"terminology",children:"Terminology"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Emote"}),": a named image asset registered with the server and referenceable inline in\nmessages using the token syntax defined by this extension."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Emote name"}),": a case-insensitive ASCII identifier matching ",(0,s.jsx)(n.code,{children:"[A-Za-z0-9][A-Za-z0-9_-]*"}),"\nof at most ",(0,s.jsx)(n.code,{children:"EMOTELEN"})," bytes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Emote identifier"}),": the fully-qualified reference to an emote, consisting of an\noptional namespace prefix and the emote name enclosed in colons:\n",(0,s.jsx)(n.code,{children:":name:"})," (global), ",(0,s.jsx)(n.code,{children:":guildname/name:"})," (guild-scoped), ",(0,s.jsx)(n.code,{children:":#channel/name:"})," or\n",(0,s.jsx)(n.code,{children:":#category//name:"})," (channel-scoped). See Emote Identifiers."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Emote scope"}),": the registry in which an emote is defined \u2014 server-global, guild, or\nchannel."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Emote pack"}),": a named, ordered collection of emotes within a scope that may be\nenabled or disabled as a unit. See Emote Packs."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Asset URL"}),": an HTTPS URL at which the emote image asset may be retrieved by clients.\nServers are responsible for hosting and serving these assets."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Animated emote"}),": an emote whose asset is an animated image. Only supported when\n",(0,s.jsx)(n.code,{children:"EMOTEANIM=1"})," is advertised."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Unicode emoji"}),": a Unicode emoji scalar or fully-qualified emoji sequence. Unicode\nemoji are valid emote references in any context that accepts emote identifiers but are\nnot managed by this extension and have no entry in the server registry."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"emote-identifiers",children:"Emote Identifiers"}),"\n",(0,s.jsx)(n.p,{children:"An emote identifier is a token that uniquely addresses an emote within the context of a\nmessage. The syntax is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":<namespace/><name>:\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Where ",(0,s.jsx)(n.code,{children:"<namespace/>"})," is an optional scope prefix:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Identifier form"}),(0,s.jsx)(n.th,{children:"Scope"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:":name:"})}),(0,s.jsx)(n.td,{children:"Server-global"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:":thumbsup:"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:":guildname/name:"})}),(0,s.jsx)(n.td,{children:"Guild"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:":acmecorp/blobwave:"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:":#channelname/name:"})}),(0,s.jsx)(n.td,{children:"Channel"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:":#engineering/approved:"})})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Emote names within a namespace MUST be unique. An emote in a guild namespace does not\nconflict with a server-global emote of the same name; when both exist the guild-scoped\nemote takes precedence for users who are members of that guild. Channel-scoped emotes\ntake precedence over both."}),"\n",(0,s.jsx)(n.p,{children:"Precedence order (highest to lowest):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Channel-scoped emote matching the channel of the current message."}),"\n",(0,s.jsx)(n.li,{children:"Guild-scoped emote matching the guild of the current channel (if any)."}),"\n",(0,s.jsx)(n.li,{children:"Server-global emote."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["When a client sends a bare ",(0,s.jsx)(n.code,{children:":name:"})," token, the server MUST resolve it according to this\nprecedence order for the target channel. The server MUST rewrite the outgoing message tag\n(see Inline Emote Tags) to include the fully-qualified identifier so that receiving\nclients do not need to perform their own resolution."]}),"\n",(0,s.jsx)(n.h2,{id:"asset-requirements",children:"Asset Requirements"}),"\n",(0,s.jsx)(n.p,{children:"Each emote asset MUST satisfy the following constraints:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Format: one of the formats listed in ",(0,s.jsx)(n.code,{children:"EMOTEFORMATS"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Dimensions: square, between 16\xd716 and 256\xd7256 pixels inclusive."}),"\n",(0,s.jsx)(n.li,{children:"File size: at most 256 KiB for static assets; at most 512 KiB for animated assets."}),"\n",(0,s.jsx)(n.li,{children:"Transport: served over HTTPS. Self-signed certificates are not permitted for\nproduction deployments."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Servers MAY transcode uploaded assets to their preferred format. If transcoding is\nperformed, the asset URL advertised to clients MUST reference the transcoded asset, not\nthe original upload."}),"\n",(0,s.jsx)(n.h2,{id:"inline-emote-token-syntax",children:"Inline Emote Token Syntax"}),"\n",(0,s.jsx)(n.p,{children:"Within a PRIVMSG or NOTICE body, any sequence matching the emote identifier syntax is\ntreated as an inline emote token. Tokens MAY appear at any position in the body."}),"\n",(0,s.jsx)(n.p,{children:"Clients MUST NOT rely on the server to transform or replace the token text within the\nmessage body itself. The message body is transmitted verbatim. Emote resolution is\ncommunicated exclusively through message tags (see Inline Emote Tags), allowing\nnon-negotiating clients to read the raw token text as plain text."}),"\n",(0,s.jsx)(n.h2,{id:"inline-emote-tags",children:"Inline Emote Tags"}),"\n",(0,s.jsxs)(n.p,{children:["When a server delivers a PRIVMSG or NOTICE that contains one or more inline emote tokens\nto a client that has negotiated this capability, it MUST attach a\n",(0,s.jsx)(n.code,{children:"rsr.chat/emotes"})," message tag. The tag value is a semicolon-delimited list of resolved\nemote entries, one per token occurrence in body order:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"emotes=<token-index>:<qualified-id>:<asset-url>[:<flags>]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Fields:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"token-index"})}),(0,s.jsx)(n.td,{children:"Zero-based index of the token within the message body, counting from the start of the body string"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"qualified-id"})}),(0,s.jsx)(n.td,{children:"The fully-qualified emote identifier after server-side resolution"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"asset-url"})}),(0,s.jsx)(n.td,{children:"HTTPS URL of the emote image asset"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"flags"})}),(0,s.jsxs)(n.td,{children:["Optional comma-separated flags. Currently defined: ",(0,s.jsx)(n.code,{children:"animated"})]})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Multiple entries are separated by semicolons. Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"rsr.chat/emotes=0::acmecorp/blobwave:https://cdn.example.com/emotes/blobwave.webp:animated;14::thumbsup:https://cdn.example.com/emotes/thumbsup.webp\n"})}),"\n",(0,s.jsx)(n.p,{children:"If a token cannot be resolved (the emote does not exist in any applicable registry or the\nuser lacks access), the server MUST omit that index from the tag. The unresolvable token\nremains in the message body as plain text. The server MUST NOT reject a message solely\nbecause it contains an unresolvable emote token."}),"\n",(0,s.jsxs)(n.p,{children:["Clients that have not negotiated this capability receive messages without the\n",(0,s.jsx)(n.code,{children:"rsr.chat/emotes"})," tag and see token text as plain text, which is the correct degraded\nbehaviour."]}),"\n",(0,s.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,s.jsx)(n.h3,{id:"emote-add",children:"EMOTE ADD"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTE ADD <scope> <name> <format> <asset-url>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Registers a new emote. ",(0,s.jsx)(n.code,{children:"<scope>"})," is one of:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"global"})," \u2014 server-global registry (server operators only)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"guild:<guildname>"})," \u2014 guild registry (guild operators or users with ",(0,s.jsx)(n.code,{children:"emote.add"})," RBAC\npermission for the guild)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"chan:<channel>"})," \u2014 channel registry (channel operators with role ",(0,s.jsx)(n.code,{children:"op"})," or higher, or\nusers with ",(0,s.jsx)(n.code,{children:"emote.add"})," RBAC permission for the channel)."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<format>"})," MUST be one of the formats in ",(0,s.jsx)(n.code,{children:"EMOTEFORMATS"}),". ",(0,s.jsx)(n.code,{children:"<asset-url>"})," MUST be an HTTPS\nURL. The server MUST fetch and validate the asset at registration time, checking format,\ndimensions, and file size. If validation fails the server MUST reply with\nERR_EMOTEINVALIDASSET and the emote MUST NOT be registered."]}),"\n",(0,s.jsxs)(n.p,{children:["On success the server MUST broadcast an ",(0,s.jsx)(n.code,{children:"EMOTE ADD"})," notification to all clients that have\nnegotiated this capability and have visibility of the relevant scope:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":adder!user@host EMOTE ADD <scope> <name> <format> <asset-url>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"emote-remove",children:"EMOTE REMOVE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTE REMOVE <scope> <name>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Removes a registered emote. The requesting client MUST hold the same permissions as\nrequired for EMOTE ADD in the relevant scope."}),"\n",(0,s.jsxs)(n.p,{children:["Removing an emote does not retroactively alter delivered messages. Existing ",(0,s.jsx)(n.code,{children:"rsr.chat/emotes"}),"\ntags in history reference the asset URL directly; clients that cache assets will continue\nto render them. Servers MAY expire asset hosting for removed emotes after a grace period\nof at least 30 days."]}),"\n",(0,s.jsxs)(n.p,{children:["On success the server MUST broadcast an ",(0,s.jsx)(n.code,{children:"EMOTE REMOVE"})," notification to all clients that\nhave negotiated this capability and have visibility of the scope:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":remover!user@host EMOTE REMOVE <scope> <name>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"emote-rename",children:"EMOTE RENAME"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTE RENAME <scope> <name> <newname>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Renames an existing emote. The emote's asset and all other properties are unchanged. The\nserver MUST broadcast an ",(0,s.jsx)(n.code,{children:"EMOTE RENAME"})," notification to all clients that have negotiated\nthis capability and have visibility of the scope:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":renamer!user@host EMOTE RENAME <scope> <name> <newname>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"emote-list",children:"EMOTE LIST"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    EMOTE LIST [<scope>]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Requests the full emote registry for a given scope, or all scopes visible to the calling\nclient if ",(0,s.jsx)(n.code,{children:"<scope>"})," is omitted. The server responds with zero or more RPL_EMOTEENTRY\nnumerics followed by RPL_EMOTEEND. If IRCv3 ",(0,s.jsx)(n.code,{children:"batch"})," is negotiated the entire response\nMUST be wrapped in a ",(0,s.jsx)(n.code,{children:"rsr.chat/emotelist"})," batch."]}),"\n",(0,s.jsx)(n.h3,{id:"emote-info",children:"EMOTE INFO"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTE INFO <identifier>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Requests metadata for a single emote by its fully-qualified identifier. The server\nresponds with a single RPL_EMOTEENTRY followed by RPL_EMOTEEND."}),"\n",(0,s.jsx)(n.h2,{id:"emote-packs",children:"Emote Packs"}),"\n",(0,s.jsx)(n.p,{children:"An emote pack is a named, ordered collection of emotes within a single scope. Packs allow\nadministrators to group thematically related emotes and allow users to enable or disable\nsets of emotes as a unit for display purposes. Pack management is performed via the\nfollowing commands."}),"\n",(0,s.jsx)(n.h3,{id:"emotepak-create",children:"EMOTEPAK CREATE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTEPAK CREATE <scope> <packname>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Creates an empty emote pack within the given scope."}),"\n",(0,s.jsx)(n.h3,{id:"emotepak-add",children:"EMOTEPAK ADD"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTEPAK ADD <scope> <packname> <emotename>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Adds an existing emote within the same scope to a pack. An emote may belong to multiple\npacks."}),"\n",(0,s.jsx)(n.h3,{id:"emotepak-remove",children:"EMOTEPAK REMOVE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTEPAK REMOVE <scope> <packname> <emotename>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Removes an emote from a pack without deleting the emote itself."}),"\n",(0,s.jsx)(n.h3,{id:"emotepak-delete",children:"EMOTEPAK DELETE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTEPAK DELETE <scope> <packname>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Deletes an emote pack. The emotes within the pack are not deleted."}),"\n",(0,s.jsx)(n.h3,{id:"emotepak-list",children:"EMOTEPAK LIST"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"EMOTEPAK LIST [<scope>]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Lists all packs and their member emotes within the given scope, or all visible scopes if\nomitted. If IRCv3 ",(0,s.jsx)(n.code,{children:"batch"})," is negotiated the response MUST be wrapped in a\n",(0,s.jsx)(n.code,{children:"rsr.chat/emotepklist"})," batch."]}),"\n",(0,s.jsx)(n.h2,{id:"server-numerics",children:"Server Numerics"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Symbolic name             s"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"RPL_EMOTEENTRY"})}),(0,s.jsx)(n.td,{children:"A single emote registry entry"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"RPL_EMOTEEND"})}),(0,s.jsx)(n.td,{children:"Marks the end of an EMOTE LIST or EMOTE INFO response"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"RPL_EMOTEPKENTRY"})}),(0,s.jsx)(n.td,{children:"A single emote pack entry"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"RPL_EMOTEPKEND"})}),(0,s.jsx)(n.td,{children:"Marks the end of an EMOTEPAK LIST response"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTEUNKNOWN"})}),(0,s.jsx)(n.td,{children:"The requested emote does not exist"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTENAMEEXISTS"})}),(0,s.jsx)(n.td,{children:"An emote with this name already exists in the target scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTENAMEINVAL"})}),(0,s.jsx)(n.td,{children:"The emote name does not match the required pattern"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTEINVALIDASSET"})}),(0,s.jsx)(n.td,{children:"The asset URL failed format, dimension, or size validation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTENOPERM"})}),(0,s.jsx)(n.td,{children:"The client lacks permission for this emote operation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTEFULL"})}),(0,s.jsx)(n.td,{children:"The target scope has reached its emote limit"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTEPACKUNKNOWN"})}),(0,s.jsx)(n.td,{children:"The specified emote pack does not exist"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ERR_EMOTEPACKEXISTS"})}),(0,s.jsx)(n.td,{children:"An emote pack with this name already exists in the target scope"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"RPL_EMOTEENTRY"})," has the following format:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":server RPL_EMOTEENTRY <nick> <scope> <name> <qualified-id> <format> <asset-url> <added-timestamp> <added-by> [flags]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Where ",(0,s.jsx)(n.code,{children:"flags"})," is an optional space-separated list of server-supplied annotations.\nCurrently defined flags:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"animated"})," \u2014 the asset is an animated image."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pack:<packname>"})," \u2014 the emote belongs to the named pack (may appear multiple times)."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"RPL_EMOTEPKENTRY"})," has the following format:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:":server RPL_EMOTEPKENTRY <nick> <scope> <packname> <emotename> <qualified-id>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"emote-availability-by-scope",children:"Emote Availability by Scope"}),"\n",(0,s.jsx)(n.h3,{id:"server-global-emotes",children:"Server-global emotes"}),"\n",(0,s.jsx)(n.p,{children:"Server-global emotes are available to all connected users on the server regardless of\nchannel or guild membership."}),"\n",(0,s.jsx)(n.h3,{id:"guild-scoped-emotes",children:"Guild-scoped emotes"}),"\n",(0,s.jsxs)(n.p,{children:["Guild-scoped emotes are available to members of the guild in which they are registered.\nWhen ",(0,s.jsx)(n.code,{children:"rsr.chat/guild"})," is negotiated, guild membership is determined by the guild\nspecification. Guild emotes are not available to users who are not members of the guild."]}),"\n",(0,s.jsx)(n.h3,{id:"channel-scoped-emotes",children:"Channel-scoped emotes"}),"\n",(0,s.jsxs)(n.p,{children:["Channel-scoped emotes are available to all users currently joined to the channel in which\nthey are registered. When ",(0,s.jsx)(n.code,{children:"rsr.chat/channel-membership"})," is negotiated, persistent members\nwho are offline may still reference channel emotes in CHATHISTORY replies but MUST NOT\nuse them in new messages."]}),"\n",(0,s.jsx)(n.h2,{id:"reserved-channel-metadata-key",children:"Reserved Channel Metadata Key"}),"\n",(0,s.jsxs)(n.p,{children:["When both ",(0,s.jsx)(n.code,{children:"rsr.chat/channel-metadata"})," and ",(0,s.jsx)(n.code,{children:"rsr.chat/emote"})," are negotiated, the following\nkey exists implicitly on every channel and cannot be deleted:"]}),"\n",(0,s.jsx)(n.h3,{id:"emotes-enabled",children:(0,s.jsx)(n.code,{children:"emotes-enabled"})}),"\n",(0,s.jsxs)(n.p,{children:["Type: ",(0,s.jsx)(n.code,{children:"bool"}),". When ",(0,s.jsx)(n.code,{children:"false"}),", inline emote tokens in messages sent to this channel are not\nresolved and no ",(0,s.jsx)(n.code,{children:"rsr.chat/emotes"})," tag is attached. Custom emote references pass through\nas plain text for all clients. Default: ",(0,s.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["This key may be set by channel operators or by users with the ",(0,s.jsx)(n.code,{children:"emote.configure"})," RBAC\npermission."]}),"\n",(0,s.jsx)(n.h2,{id:"history-integration",children:"History Integration"}),"\n",(0,s.jsxs)(n.p,{children:["When a client requests message history via CHATHISTORY or an equivalent mechanism,\nreplayed messages MUST include the ",(0,s.jsx)(n.code,{children:"rsr.chat/emotes"})," tag as originally computed at\ndelivery time. Servers MUST NOT re-resolve emote tokens during history replay. Asset URLs\nembedded in history tags are not guaranteed to remain valid indefinitely; see the grace\nperiod note under EMOTE REMOVE."]}),"\n",(0,s.jsx)(n.h2,{id:"guild-integration",children:"Guild Integration"}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"rsr.chat/guild"})," is negotiated:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Guild operators MAY manage the guild emote registry via EMOTE ADD, EMOTE REMOVE, and\nEMOTE RENAME targeting ",(0,s.jsx)(n.code,{children:"guild:<guildname>"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Guild-scoped emotes are available to all guild members across all channels within the\nguild."}),"\n",(0,s.jsxs)(n.li,{children:["When resolving a bare ",(0,s.jsx)(n.code,{children:":name:"})," token in a guild channel, the guild registry is searched\nafter the channel registry but before the server-global registry, as per the precedence\norder defined in Emote Identifiers."]}),"\n",(0,s.jsx)(n.li,{children:"Guild emote packs MAY be defined via EMOTEPAK commands targeting the guild scope."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"rbac-integration",children:"RBAC Integration"}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"rsr.chat/rbac"})," is negotiated, the following permission identifiers are defined by\nthis extension:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Permission identifier"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.add"})}),(0,s.jsx)(n.td,{children:"Register a new emote in this scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.remove"})}),(0,s.jsx)(n.td,{children:"Remove an emote from this scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.rename"})}),(0,s.jsx)(n.td,{children:"Rename an emote in this scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.list"})}),(0,s.jsx)(n.td,{children:"List emotes in this scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.use"})}),(0,s.jsx)(n.td,{children:"Use emotes from this scope in messages"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.use.animated"})}),(0,s.jsx)(n.td,{children:"Use animated emotes from this scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.pack.manage"})}),(0,s.jsx)(n.td,{children:"Create, delete, and modify emote packs in this scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote.configure"})}),(0,s.jsxs)(n.td,{children:["Set the ",(0,s.jsx)(n.code,{children:"emotes-enabled"})," channel metadata key"]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Servers MAY restrict use of animated emotes separately from static emotes via\n",(0,s.jsx)(n.code,{children:"emote.use.animated"}),". If a client without ",(0,s.jsx)(n.code,{children:"emote.use.animated"})," uses an animated emote\ntoken, the server MUST resolve it to the static fallback asset if one exists, or treat\nit as unresolvable if none does."]}),"\n",(0,s.jsxs)(n.p,{children:["RBAC rules for emote permissions MAY be scoped to a channel category or guild prefix\nusing the scope syntax defined by ",(0,s.jsx)(n.code,{children:"rsr.chat/channel-categories"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"advanced-moderation-integration",children:"Advanced Moderation Integration"}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"rsr.chat/advanced-moderation"})," is negotiated, the following predicates are defined\nfor use in moderation rule conditions (normative syntax defined by that specification):"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Predicate"}),(0,s.jsx)(n.th,{children:"Matches when"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:has-emote"})}),(0,s.jsx)(n.td,{children:"The message body contains at least one emote token"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:count>=<n>"})}),(0,s.jsx)(n.td,{children:"The message contains at least n emote tokens"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:is-animated"})}),(0,s.jsx)(n.td,{children:"At least one resolved emote in the message is animated"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:scope=global"})}),(0,s.jsx)(n.td,{children:"At least one resolved emote is from the global scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:scope=guild"})}),(0,s.jsx)(n.td,{children:"At least one resolved emote is from a guild scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:scope=channel"})}),(0,s.jsx)(n.td,{children:"At least one resolved emote is from a channel scope"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:id=<qualified-id>"})}),(0,s.jsx)(n.td,{children:"The specific emote appears in the message"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"emote:unresolved"})}),(0,s.jsx)(n.td,{children:"At least one emote token could not be resolved"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"These predicates may be used to restrict emote-heavy messages in low-bandwidth channels,\nprevent animated emotes in accessibility-sensitive contexts, or flag messages containing\nspecific emotes for moderation review."}),"\n",(0,s.jsx)(n.h2,{id:"interaction-with-rsrchatreactions",children:"Interaction with rsr.chat/reactions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"rsr.chat/reactions"})," depends on this extension for emote validation. All emote identifier\nsyntax, namespacing, precedence, and validation rules defined here apply equally to\nreaction emotes. The following integration points apply:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unicode emoji are valid reaction emotes without a registry entry."}),"\n",(0,s.jsx)(n.li,{children:"Custom emote reaction identifiers MUST reference a registered emote in the server,\nguild, or channel registry visible to both the reactor and the target channel."}),"\n",(0,s.jsx)(n.li,{children:"The server MUST validate reaction emote identifiers using the same resolution and\nprecedence rules as inline message emotes."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"rsr.chat/reaction-summary"})," tag defined by ",(0,s.jsx)(n.code,{children:"rsr.chat/reactions"})," uses the same\nemote identifier syntax defined here."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"interaction-with-non-negotiating-clients",children:"Interaction with Non-Negotiating Clients"}),"\n",(0,s.jsxs)(n.p,{children:["Non-negotiating clients receive messages with emote tokens as plain text and without the\n",(0,s.jsx)(n.code,{children:"rsr.chat/emotes"})," tag. They interact with emote tokens solely as the string ",(0,s.jsx)(n.code,{children:":name:"})," or\nsimilar. EMOTE and EMOTEPAK commands sent by non-negotiating clients MUST be rejected with\nERR_UNKNOWNCOMMAND. This is the correct degraded behaviour and requires no special server\nhandling beyond standard tag omission."]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h3,{id:"capability-negotiation",children:"Capability negotiation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: CAP LS 302\nS: CAP * LS :rsr.chat/emote\nC: CAP REQ :rsr.chat/emote\nS: CAP * ACK :rsr.chat/emote\nC: NICK alice\nC: USER alice 0 * :Alice\nS: 005 alice EMOTEMAX=500 EMOTEGUILDMAX=100 EMOTECHANMAX=20 EMOTELEN=32 EMOTEFORMATS=webp,png,gif EMOTEANIM=1 :are supported by this server\nS: 001 alice :Welcome to the network\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registering-a-server-global-emote",children:"Registering a server-global emote"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE ADD global thumbsup webp https://cdn.example.com/emotes/thumbsup.webp\nS: :serverop!serverop@host EMOTE ADD global thumbsup webp https://cdn.example.com/emotes/thumbsup.webp\n    (broadcast to all negotiating clients)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registering-a-guild-scoped-emote",children:"Registering a guild-scoped emote"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE ADD guild:acmecorp blobwave webp https://cdn.acmecorp.example/emotes/blobwave.webp\nS: :alice!alice@host EMOTE ADD guild:acmecorp blobwave webp https://cdn.acmecorp.example/emotes/blobwave.webp\n    (broadcast to acmecorp guild members that negotiated the capability)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registering-a-channel-scoped-emote",children:"Registering a channel-scoped emote"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE ADD chan:#engineering/general approved webp https://cdn.example.com/emotes/approved.webp\nS: :alice!alice@host EMOTE ADD chan:#engineering/general approved webp https://cdn.example.com/emotes/approved.webp\n    (broadcast to #engineering/general members that negotiated the capability)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"message-delivery-with-inline-emote-tags",children:"Message delivery with inline emote tags"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: PRIVMSG #engineering/general :Great work :blobwave: :thumbsup:\n\n(Negotiating recipients receive:)\n@MSGID=01HQ7K2N4R8VXJD3MCWBPZT56Y;rsr.chat/emotes=12::acmecorp/blobwave:https://cdn.acmecorp.example/emotes/blobwave.webp:animated;23::thumbsup:https://cdn.example.com/emotes/thumbsup.webp :alice!alice@host PRIVMSG #engineering/general :Great work :blobwave: :thumbsup:\n\n(Non-negotiating recipients receive:)\n:alice!alice@host PRIVMSG #engineering/general :Great work :blobwave: :thumbsup:\n"})}),"\n",(0,s.jsx)(n.h3,{id:"bare-name-resolved-with-guild-precedence",children:"Bare name resolved with guild precedence"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'(alice is in guild acmecorp which has a guild-scoped emote named "wave";\n    the server also has a global emote named "wave")\nC: PRIVMSG #engineering/general :See you tomorrow :wave:\nS: (rsr.chat/emotes tag carries :acmecorp/wave: not :wave:, guild takes precedence)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"unresolvable-emote-token",children:"Unresolvable emote token"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: PRIVMSG #engineering/general :Check this out :nonexistentemote:\nS: (rsr.chat/emotes tag omits the unresolvable token; :nonexistentemote: is plain text)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"emote-list-with-batch",children:"EMOTE LIST with batch"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE LIST global\nS: :server BATCH +el rsr.chat/emotelist global\nS: @batch=el :server RPL_EMOTEENTRY alice global thumbsup :thumbsup: webp https://cdn.example.com/emotes/thumbsup.webp 2024-01-10T09:00:00.000Z serverop\nS: @batch=el :server RPL_EMOTEENTRY alice global wave :wave: webp https://cdn.example.com/emotes/wave.webp 2024-01-10T09:01:00.000Z serverop pack:basics\nS: :server BATCH -el\nS: :server RPL_EMOTEEND alice global :End of emote list\n"})}),"\n",(0,s.jsx)(n.h3,{id:"creating-and-populating-an-emote-pack",children:"Creating and populating an emote pack"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTEPAK CREATE guild:acmecorp reactions\nC: EMOTEPAK ADD guild:acmecorp reactions blobwave\nC: EMOTEPAK ADD guild:acmecorp reactions blobapprove\nC: EMOTEPAK ADD guild:acmecorp reactions blobsad\n"})}),"\n",(0,s.jsx)(n.h3,{id:"asset-validation-failure",children:"Asset validation failure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE ADD chan:#engineering/general toobig webp https://cdn.example.com/emotes/toobig.webp\nS: :server ERR_EMOTEINVALIDASSET alice :Asset exceeds maximum file size of 256 KiB\n"})}),"\n",(0,s.jsx)(n.h3,{id:"emote-limit-reached",children:"Emote limit reached"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE ADD chan:#engineering/general newemote webp https://cdn.example.com/emotes/newemote.webp\nS: :server ERR_EMOTEFULL alice chan:#engineering/general :Channel emote limit reached\n"})}),"\n",(0,s.jsx)(n.h3,{id:"category-scoped-emote-registration",children:"Category-scoped emote registration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE ADD chan:#engineering/ shipit webp https://cdn.example.com/emotes/shipit.webp\nS: :server BATCH +ce rsr.chat/emotelist #engineering/\nS: @batch=ce :server RPL_EMOTEENTRY alice chan:#engineering/general shipit :#engineering/general/shipit: webp https://cdn.example.com/emotes/shipit.webp 2024-03-15T10:00:00.000Z alice\nS: @batch=ce :server RPL_EMOTEENTRY alice chan:#engineering/deploys shipit :#engineering/deploys/shipit: webp https://cdn.example.com/emotes/shipit.webp 2024-03-15T10:00:00.000Z alice\nS: :server BATCH -ce\n"})}),"\n",(0,s.jsx)(n.h3,{id:"removing-an-emote",children:"Removing an emote"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"C: EMOTE REMOVE guild:acmecorp blobwave\nS: :alice!alice@host EMOTE REMOVE guild:acmecorp blobwave\n    (broadcast to acmecorp guild members that negotiated the capability)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);