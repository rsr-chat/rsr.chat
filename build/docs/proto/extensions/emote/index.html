<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-proto/extensions/emote" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">rsr.chat/emote | RSR.CHAT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.rsr.chat/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.rsr.chat/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.rsr.chat/docs/proto/extensions/emote"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="rsr.chat/emote | RSR.CHAT"><meta data-rh="true" name="description" content="This specification is still a draft and is subject to change at any time."><meta data-rh="true" property="og:description" content="This specification is still a draft and is subject to change at any time."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.rsr.chat/docs/proto/extensions/emote"><link data-rh="true" rel="alternate" href="https://docs.rsr.chat/docs/proto/extensions/emote" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.rsr.chat/docs/proto/extensions/emote" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"IRCv3 Extensions","item":"https://docs.rsr.chat/docs/proto/extensions/"},{"@type":"ListItem","position":2,"name":"rsr.chat/emote","item":"https://docs.rsr.chat/docs/proto/extensions/emote"}]}</script><link rel="stylesheet" href="/assets/css/styles.32a91367.css">
<script src="/assets/js/runtime~main.6cafa0fd.js" defer="defer"></script>
<script src="/assets/js/main.05a80a90.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">RSR Virtual Chat Protocol</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/proto/intro">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/rsr-chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/proto/intro"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/proto/core-proto"><span title="Core IRCv3 Protocol" class="linkLabel_WmDU">Core IRCv3 Protocol</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/proto/registration"><span title="Accounts and Registration" class="linkLabel_WmDU">Accounts and Registration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/proto/data-ownership"><span title="Content Ownership Model" class="linkLabel_WmDU">Content Ownership Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/proto/content-moderation"><span title="Content Moderation" class="linkLabel_WmDU">Content Moderation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/proto/extensions/"><span title="IRCv3 Extensions" class="categoryLinkLabel_W154">IRCv3 Extensions</span></a><button aria-label="Collapse sidebar category &#x27;IRCv3 Extensions&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/advanced-moderation"><span title="rsr.chat/advanced-moderation" class="linkLabel_WmDU">rsr.chat/advanced-moderation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/channel-categories"><span title="rsr.chat/channel-categories" class="linkLabel_WmDU">rsr.chat/channel-categories</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/channel-membership"><span title="rsr.chat/channel-membership" class="linkLabel_WmDU">rsr.chat/channel-membership</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/channel-meta"><span title="rsr.chat/channel-meta" class="linkLabel_WmDU">rsr.chat/channel-meta</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/channel-pins"><span title="rsr.chat/channel-pins" class="linkLabel_WmDU">rsr.chat/channel-pins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/did-sasl"><span title="rsr.chat/did-sasl" class="linkLabel_WmDU">rsr.chat/did-sasl</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/did-signing"><span title="rsr.chat/did-signing" class="linkLabel_WmDU">rsr.chat/did-signing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/proto/extensions/emote"><span title="rsr.chat/emote" class="linkLabel_WmDU">rsr.chat/emote</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/extended-message-length"><span title="rsr.chat/extended-line-length" class="linkLabel_WmDU">rsr.chat/extended-line-length</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/message-link"><span title="rsr.chat/message-link" class="linkLabel_WmDU">rsr.chat/message-link</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/modern-ping"><span title="rsr.chat/modern-ping" class="linkLabel_WmDU">rsr.chat/modern-ping</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/onboarding"><span title="rsr.chat/onboarding" class="linkLabel_WmDU">rsr.chat/onboarding</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/pending-messages"><span title="rsr.chat/pending-messages" class="linkLabel_WmDU">rsr.chat/pending-messages</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/rbac"><span title="rsr.chat/rbac" class="linkLabel_WmDU">rsr.chat/rbac</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/reactions"><span title="rsr.chat/reactions" class="linkLabel_WmDU">rsr.chat/reactions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/typing-notify"><span title="rsr.chat/typing-notify" class="linkLabel_WmDU">rsr.chat/typing-notify</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/video"><span title="rsr.chat/video" class="linkLabel_WmDU">rsr.chat/video</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/proto/extensions/voice"><span title="rsr.chat/voice" class="linkLabel_WmDU">rsr.chat/voice</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/proto/lexicons/"><span title="ATProto Lexicons" class="categoryLinkLabel_W154">ATProto Lexicons</span></a><button aria-label="Expand sidebar category &#x27;ATProto Lexicons&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/proto/extensions/"><span>IRCv3 Extensions</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">rsr.chat/emote</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This specification is still a <strong>draft</strong> and is subject to change at any time.</p></div></div>
<header><h1>rsr.chat/emote</h1></header>
<p>This extension defines a server-managed registry of named custom emotes that may be
referenced inline in messages using a standard token syntax. Emotes may be scoped to the
server, to a guild, or to an individual channel. Each emote is associated with an image
asset whose URL is advertised to clients.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation" translate="no">​</a></h2>
<p>Custom emotes are a first-class feature of modern messaging platforms. Without a standard
mechanism, IRC clients cannot interoperate on emote identity, availability, or rendering.
Ad-hoc conventions such as <code>:name:</code> text substitutions exist only by client-side agreement
and carry no server-authoritative asset information. This extension defines a typed,
namespaced, server-authoritative emote registry with a negotiated inline token syntax,
structured asset delivery, and access controls.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="capability">Capability<a href="#capability" class="hash-link" aria-label="Direct link to Capability" title="Direct link to Capability" translate="no">​</a></h2>
<p>This extension is advertised as the <code>rsr.chat/emote</code> capability during CAP negotiation:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CAP * LS :rsr.chat/emote</span><br></span></code></pre></div></div>
<p>No capability value is used. Limits and feature flags are communicated via ISUPPORT (see
below).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="isupport-tokens">ISUPPORT Tokens<a href="#isupport-tokens" class="hash-link" aria-label="Direct link to ISUPPORT Tokens" title="Direct link to ISUPPORT Tokens" translate="no">​</a></h2>
<p>Servers MUST advertise the following tokens in <code>RPL_ISUPPORT</code> (005) when this capability
is active:</p>
<ul>
<li class=""><code>EMOTEMAX=&lt;n&gt;</code> — the maximum number of emotes permitted in the server-global registry.
A value of <code>0</code> indicates no server-imposed limit.</li>
<li class=""><code>EMOTEGUILDMAX=&lt;n&gt;</code> — the maximum number of emotes permitted per guild registry when
<code>rsr.chat/guild</code> is negotiated. A value of <code>0</code> indicates no limit.</li>
<li class=""><code>EMOTECHANMAX=&lt;n&gt;</code> — the maximum number of emotes permitted per channel registry.
A value of <code>0</code> indicates no limit.</li>
<li class=""><code>EMOTELEN=&lt;n&gt;</code> — the maximum byte length of an emote name, excluding the surrounding
colons. Servers MUST NOT enforce a value lower than 2 or higher than 64.</li>
<li class=""><code>EMOTEFORMATS=&lt;f1&gt;,&lt;f2&gt;,...</code> — a comma-separated list of image formats accepted for
emote asset uploads, in server preference order. Servers MUST support at least <code>png</code>
and <code>webp</code>. Servers MAY additionally support <code>gif</code> and <code>avif</code>.</li>
<li class=""><code>EMOTEANIM=1</code> — present if the server supports animated emote assets (e.g. animated
<code>webp</code> or <code>gif</code>). Absent if only static assets are accepted.</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:server 005 nick EMOTEMAX=500 EMOTEGUILDMAX=100 EMOTECHANMAX=20 EMOTELEN=32 EMOTEFORMATS=webp,png,gif EMOTEANIM=1 :are supported by this server</span><br></span></code></pre></div></div>
<p>If any of these values change after a configuration reload, a fresh RPL_ISUPPORT MUST be
sent to all connected clients.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="terminology">Terminology<a href="#terminology" class="hash-link" aria-label="Direct link to Terminology" title="Direct link to Terminology" translate="no">​</a></h2>
<ul>
<li class=""><strong>Emote</strong>: a named image asset registered with the server and referenceable inline in
messages using the token syntax defined by this extension.</li>
<li class=""><strong>Emote name</strong>: a case-insensitive ASCII identifier matching <code>[A-Za-z0-9][A-Za-z0-9_-]*</code>
of at most <code>EMOTELEN</code> bytes.</li>
<li class=""><strong>Emote identifier</strong>: the fully-qualified reference to an emote, consisting of an
optional namespace prefix and the emote name enclosed in colons:
<code>:name:</code> (global), <code>:guildname/name:</code> (guild-scoped), <code>:#channel/name:</code> or
<code>:#category//name:</code> (channel-scoped). See Emote Identifiers.</li>
<li class=""><strong>Emote scope</strong>: the registry in which an emote is defined — server-global, guild, or
channel.</li>
<li class=""><strong>Emote pack</strong>: a named, ordered collection of emotes within a scope that may be
enabled or disabled as a unit. See Emote Packs.</li>
<li class=""><strong>Asset URL</strong>: an HTTPS URL at which the emote image asset may be retrieved by clients.
Servers are responsible for hosting and serving these assets.</li>
<li class=""><strong>Animated emote</strong>: an emote whose asset is an animated image. Only supported when
<code>EMOTEANIM=1</code> is advertised.</li>
<li class=""><strong>Unicode emoji</strong>: a Unicode emoji scalar or fully-qualified emoji sequence. Unicode
emoji are valid emote references in any context that accepts emote identifiers but are
not managed by this extension and have no entry in the server registry.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-identifiers">Emote Identifiers<a href="#emote-identifiers" class="hash-link" aria-label="Direct link to Emote Identifiers" title="Direct link to Emote Identifiers" translate="no">​</a></h2>
<p>An emote identifier is a token that uniquely addresses an emote within the context of a
message. The syntax is:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:&lt;namespace/&gt;&lt;name&gt;:</span><br></span></code></pre></div></div>
<p>Where <code>&lt;namespace/&gt;</code> is an optional scope prefix:</p>
<table><thead><tr><th>Identifier form</th><th>Scope</th><th>Example</th></tr></thead><tbody><tr><td><code>:name:</code></td><td>Server-global</td><td><code>:thumbsup:</code></td></tr><tr><td><code>:guildname/name:</code></td><td>Guild</td><td><code>:acmecorp/blobwave:</code></td></tr><tr><td><code>:#channelname/name:</code></td><td>Channel</td><td><code>:#engineering/approved:</code></td></tr></tbody></table>
<p>Emote names within a namespace MUST be unique. An emote in a guild namespace does not
conflict with a server-global emote of the same name; when both exist the guild-scoped
emote takes precedence for users who are members of that guild. Channel-scoped emotes
take precedence over both.</p>
<p>Precedence order (highest to lowest):</p>
<ol>
<li class="">Channel-scoped emote matching the channel of the current message.</li>
<li class="">Guild-scoped emote matching the guild of the current channel (if any).</li>
<li class="">Server-global emote.</li>
</ol>
<p>When a client sends a bare <code>:name:</code> token, the server MUST resolve it according to this
precedence order for the target channel. The server MUST rewrite the outgoing message tag
(see Inline Emote Tags) to include the fully-qualified identifier so that receiving
clients do not need to perform their own resolution.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="asset-requirements">Asset Requirements<a href="#asset-requirements" class="hash-link" aria-label="Direct link to Asset Requirements" title="Direct link to Asset Requirements" translate="no">​</a></h2>
<p>Each emote asset MUST satisfy the following constraints:</p>
<ul>
<li class="">Format: one of the formats listed in <code>EMOTEFORMATS</code>.</li>
<li class="">Dimensions: square, between 16×16 and 256×256 pixels inclusive.</li>
<li class="">File size: at most 256 KiB for static assets; at most 512 KiB for animated assets.</li>
<li class="">Transport: served over HTTPS. Self-signed certificates are not permitted for
production deployments.</li>
</ul>
<p>Servers MAY transcode uploaded assets to their preferred format. If transcoding is
performed, the asset URL advertised to clients MUST reference the transcoded asset, not
the original upload.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="inline-emote-token-syntax">Inline Emote Token Syntax<a href="#inline-emote-token-syntax" class="hash-link" aria-label="Direct link to Inline Emote Token Syntax" title="Direct link to Inline Emote Token Syntax" translate="no">​</a></h2>
<p>Within a PRIVMSG or NOTICE body, any sequence matching the emote identifier syntax is
treated as an inline emote token. Tokens MAY appear at any position in the body.</p>
<p>Clients MUST NOT rely on the server to transform or replace the token text within the
message body itself. The message body is transmitted verbatim. Emote resolution is
communicated exclusively through message tags (see Inline Emote Tags), allowing
non-negotiating clients to read the raw token text as plain text.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="inline-emote-tags">Inline Emote Tags<a href="#inline-emote-tags" class="hash-link" aria-label="Direct link to Inline Emote Tags" title="Direct link to Inline Emote Tags" translate="no">​</a></h2>
<p>When a server delivers a PRIVMSG or NOTICE that contains one or more inline emote tokens
to a client that has negotiated this capability, it MUST attach a
<code>rsr.chat/emotes</code> message tag. The tag value is a semicolon-delimited list of resolved
emote entries, one per token occurrence in body order:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">emotes=&lt;token-index&gt;:&lt;qualified-id&gt;:&lt;asset-url&gt;[:&lt;flags&gt;]</span><br></span></code></pre></div></div>
<p>Fields:</p>
<table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><code>token-index</code></td><td>Zero-based index of the token within the message body, counting from the start of the body string</td></tr><tr><td><code>qualified-id</code></td><td>The fully-qualified emote identifier after server-side resolution</td></tr><tr><td><code>asset-url</code></td><td>HTTPS URL of the emote image asset</td></tr><tr><td><code>flags</code></td><td>Optional comma-separated flags. Currently defined: <code>animated</code></td></tr></tbody></table>
<p>Multiple entries are separated by semicolons. Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rsr.chat/emotes=0::acmecorp/blobwave:https://cdn.example.com/emotes/blobwave.webp:animated;14::thumbsup:https://cdn.example.com/emotes/thumbsup.webp</span><br></span></code></pre></div></div>
<p>If a token cannot be resolved (the emote does not exist in any applicable registry or the
user lacks access), the server MUST omit that index from the tag. The unresolvable token
remains in the message body as plain text. The server MUST NOT reject a message solely
because it contains an unresolvable emote token.</p>
<p>Clients that have not negotiated this capability receive messages without the
<code>rsr.chat/emotes</code> tag and see token text as plain text, which is the correct degraded
behaviour.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="commands">Commands<a href="#commands" class="hash-link" aria-label="Direct link to Commands" title="Direct link to Commands" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-add">EMOTE ADD<a href="#emote-add" class="hash-link" aria-label="Direct link to EMOTE ADD" title="Direct link to EMOTE ADD" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTE ADD &lt;scope&gt; &lt;name&gt; &lt;format&gt; &lt;asset-url&gt;</span><br></span></code></pre></div></div>
<p>Registers a new emote. <code>&lt;scope&gt;</code> is one of:</p>
<ul>
<li class=""><code>global</code> — server-global registry (server operators only).</li>
<li class=""><code>guild:&lt;guildname&gt;</code> — guild registry (guild operators or users with <code>emote.add</code> RBAC
permission for the guild).</li>
<li class=""><code>chan:&lt;channel&gt;</code> — channel registry (channel operators with role <code>op</code> or higher, or
users with <code>emote.add</code> RBAC permission for the channel).</li>
</ul>
<p><code>&lt;format&gt;</code> MUST be one of the formats in <code>EMOTEFORMATS</code>. <code>&lt;asset-url&gt;</code> MUST be an HTTPS
URL. The server MUST fetch and validate the asset at registration time, checking format,
dimensions, and file size. If validation fails the server MUST reply with
ERR_EMOTEINVALIDASSET and the emote MUST NOT be registered.</p>
<p>On success the server MUST broadcast an <code>EMOTE ADD</code> notification to all clients that have
negotiated this capability and have visibility of the relevant scope:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:adder!user@host EMOTE ADD &lt;scope&gt; &lt;name&gt; &lt;format&gt; &lt;asset-url&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-remove">EMOTE REMOVE<a href="#emote-remove" class="hash-link" aria-label="Direct link to EMOTE REMOVE" title="Direct link to EMOTE REMOVE" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTE REMOVE &lt;scope&gt; &lt;name&gt;</span><br></span></code></pre></div></div>
<p>Removes a registered emote. The requesting client MUST hold the same permissions as
required for EMOTE ADD in the relevant scope.</p>
<p>Removing an emote does not retroactively alter delivered messages. Existing <code>rsr.chat/emotes</code>
tags in history reference the asset URL directly; clients that cache assets will continue
to render them. Servers MAY expire asset hosting for removed emotes after a grace period
of at least 30 days.</p>
<p>On success the server MUST broadcast an <code>EMOTE REMOVE</code> notification to all clients that
have negotiated this capability and have visibility of the scope:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:remover!user@host EMOTE REMOVE &lt;scope&gt; &lt;name&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-rename">EMOTE RENAME<a href="#emote-rename" class="hash-link" aria-label="Direct link to EMOTE RENAME" title="Direct link to EMOTE RENAME" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTE RENAME &lt;scope&gt; &lt;name&gt; &lt;newname&gt;</span><br></span></code></pre></div></div>
<p>Renames an existing emote. The emote&#x27;s asset and all other properties are unchanged. The
server MUST broadcast an <code>EMOTE RENAME</code> notification to all clients that have negotiated
this capability and have visibility of the scope:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:renamer!user@host EMOTE RENAME &lt;scope&gt; &lt;name&gt; &lt;newname&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-list">EMOTE LIST<a href="#emote-list" class="hash-link" aria-label="Direct link to EMOTE LIST" title="Direct link to EMOTE LIST" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    EMOTE LIST [&lt;scope&gt;]</span><br></span></code></pre></div></div>
<p>Requests the full emote registry for a given scope, or all scopes visible to the calling
client if <code>&lt;scope&gt;</code> is omitted. The server responds with zero or more RPL_EMOTEENTRY
numerics followed by RPL_EMOTEEND. If IRCv3 <code>batch</code> is negotiated the entire response
MUST be wrapped in a <code>rsr.chat/emotelist</code> batch.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-info">EMOTE INFO<a href="#emote-info" class="hash-link" aria-label="Direct link to EMOTE INFO" title="Direct link to EMOTE INFO" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTE INFO &lt;identifier&gt;</span><br></span></code></pre></div></div>
<p>Requests metadata for a single emote by its fully-qualified identifier. The server
responds with a single RPL_EMOTEENTRY followed by RPL_EMOTEEND.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-packs">Emote Packs<a href="#emote-packs" class="hash-link" aria-label="Direct link to Emote Packs" title="Direct link to Emote Packs" translate="no">​</a></h2>
<p>An emote pack is a named, ordered collection of emotes within a single scope. Packs allow
administrators to group thematically related emotes and allow users to enable or disable
sets of emotes as a unit for display purposes. Pack management is performed via the
following commands.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emotepak-create">EMOTEPAK CREATE<a href="#emotepak-create" class="hash-link" aria-label="Direct link to EMOTEPAK CREATE" title="Direct link to EMOTEPAK CREATE" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTEPAK CREATE &lt;scope&gt; &lt;packname&gt;</span><br></span></code></pre></div></div>
<p>Creates an empty emote pack within the given scope.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emotepak-add">EMOTEPAK ADD<a href="#emotepak-add" class="hash-link" aria-label="Direct link to EMOTEPAK ADD" title="Direct link to EMOTEPAK ADD" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTEPAK ADD &lt;scope&gt; &lt;packname&gt; &lt;emotename&gt;</span><br></span></code></pre></div></div>
<p>Adds an existing emote within the same scope to a pack. An emote may belong to multiple
packs.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emotepak-remove">EMOTEPAK REMOVE<a href="#emotepak-remove" class="hash-link" aria-label="Direct link to EMOTEPAK REMOVE" title="Direct link to EMOTEPAK REMOVE" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTEPAK REMOVE &lt;scope&gt; &lt;packname&gt; &lt;emotename&gt;</span><br></span></code></pre></div></div>
<p>Removes an emote from a pack without deleting the emote itself.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emotepak-delete">EMOTEPAK DELETE<a href="#emotepak-delete" class="hash-link" aria-label="Direct link to EMOTEPAK DELETE" title="Direct link to EMOTEPAK DELETE" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTEPAK DELETE &lt;scope&gt; &lt;packname&gt;</span><br></span></code></pre></div></div>
<p>Deletes an emote pack. The emotes within the pack are not deleted.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emotepak-list">EMOTEPAK LIST<a href="#emotepak-list" class="hash-link" aria-label="Direct link to EMOTEPAK LIST" title="Direct link to EMOTEPAK LIST" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EMOTEPAK LIST [&lt;scope&gt;]</span><br></span></code></pre></div></div>
<p>Lists all packs and their member emotes within the given scope, or all visible scopes if
omitted. If IRCv3 <code>batch</code> is negotiated the response MUST be wrapped in a
<code>rsr.chat/emotepklist</code> batch.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="server-numerics">Server Numerics<a href="#server-numerics" class="hash-link" aria-label="Direct link to Server Numerics" title="Direct link to Server Numerics" translate="no">​</a></h2>
<table><thead><tr><th>Symbolic name             s</th><th>Description</th></tr></thead><tbody><tr><td><code>RPL_EMOTEENTRY</code></td><td>A single emote registry entry</td></tr><tr><td><code>RPL_EMOTEEND</code></td><td>Marks the end of an EMOTE LIST or EMOTE INFO response</td></tr><tr><td><code>RPL_EMOTEPKENTRY</code></td><td>A single emote pack entry</td></tr><tr><td><code>RPL_EMOTEPKEND</code></td><td>Marks the end of an EMOTEPAK LIST response</td></tr><tr><td><code>ERR_EMOTEUNKNOWN</code></td><td>The requested emote does not exist</td></tr><tr><td><code>ERR_EMOTENAMEEXISTS</code></td><td>An emote with this name already exists in the target scope</td></tr><tr><td><code>ERR_EMOTENAMEINVAL</code></td><td>The emote name does not match the required pattern</td></tr><tr><td><code>ERR_EMOTEINVALIDASSET</code></td><td>The asset URL failed format, dimension, or size validation</td></tr><tr><td><code>ERR_EMOTENOPERM</code></td><td>The client lacks permission for this emote operation</td></tr><tr><td><code>ERR_EMOTEFULL</code></td><td>The target scope has reached its emote limit</td></tr><tr><td><code>ERR_EMOTEPACKUNKNOWN</code></td><td>The specified emote pack does not exist</td></tr><tr><td><code>ERR_EMOTEPACKEXISTS</code></td><td>An emote pack with this name already exists in the target scope</td></tr></tbody></table>
<p><code>RPL_EMOTEENTRY</code> has the following format:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:server RPL_EMOTEENTRY &lt;nick&gt; &lt;scope&gt; &lt;name&gt; &lt;qualified-id&gt; &lt;format&gt; &lt;asset-url&gt; &lt;added-timestamp&gt; &lt;added-by&gt; [flags]</span><br></span></code></pre></div></div>
<p>Where <code>flags</code> is an optional space-separated list of server-supplied annotations.
Currently defined flags:</p>
<ul>
<li class=""><code>animated</code> — the asset is an animated image.</li>
<li class=""><code>pack:&lt;packname&gt;</code> — the emote belongs to the named pack (may appear multiple times).</li>
</ul>
<p><code>RPL_EMOTEPKENTRY</code> has the following format:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:server RPL_EMOTEPKENTRY &lt;nick&gt; &lt;scope&gt; &lt;packname&gt; &lt;emotename&gt; &lt;qualified-id&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-availability-by-scope">Emote Availability by Scope<a href="#emote-availability-by-scope" class="hash-link" aria-label="Direct link to Emote Availability by Scope" title="Direct link to Emote Availability by Scope" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="server-global-emotes">Server-global emotes<a href="#server-global-emotes" class="hash-link" aria-label="Direct link to Server-global emotes" title="Direct link to Server-global emotes" translate="no">​</a></h3>
<p>Server-global emotes are available to all connected users on the server regardless of
channel or guild membership.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="guild-scoped-emotes">Guild-scoped emotes<a href="#guild-scoped-emotes" class="hash-link" aria-label="Direct link to Guild-scoped emotes" title="Direct link to Guild-scoped emotes" translate="no">​</a></h3>
<p>Guild-scoped emotes are available to members of the guild in which they are registered.
When <code>rsr.chat/guild</code> is negotiated, guild membership is determined by the guild
specification. Guild emotes are not available to users who are not members of the guild.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="channel-scoped-emotes">Channel-scoped emotes<a href="#channel-scoped-emotes" class="hash-link" aria-label="Direct link to Channel-scoped emotes" title="Direct link to Channel-scoped emotes" translate="no">​</a></h3>
<p>Channel-scoped emotes are available to all users currently joined to the channel in which
they are registered. When <code>rsr.chat/channel-membership</code> is negotiated, persistent members
who are offline may still reference channel emotes in CHATHISTORY replies but MUST NOT
use them in new messages.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="reserved-channel-metadata-key">Reserved Channel Metadata Key<a href="#reserved-channel-metadata-key" class="hash-link" aria-label="Direct link to Reserved Channel Metadata Key" title="Direct link to Reserved Channel Metadata Key" translate="no">​</a></h2>
<p>When both <code>rsr.chat/channel-metadata</code> and <code>rsr.chat/emote</code> are negotiated, the following
key exists implicitly on every channel and cannot be deleted:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emotes-enabled"><code>emotes-enabled</code><a href="#emotes-enabled" class="hash-link" aria-label="Direct link to emotes-enabled" title="Direct link to emotes-enabled" translate="no">​</a></h3>
<p>Type: <code>bool</code>. When <code>false</code>, inline emote tokens in messages sent to this channel are not
resolved and no <code>rsr.chat/emotes</code> tag is attached. Custom emote references pass through
as plain text for all clients. Default: <code>true</code>.</p>
<p>This key may be set by channel operators or by users with the <code>emote.configure</code> RBAC
permission.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="history-integration">History Integration<a href="#history-integration" class="hash-link" aria-label="Direct link to History Integration" title="Direct link to History Integration" translate="no">​</a></h2>
<p>When a client requests message history via CHATHISTORY or an equivalent mechanism,
replayed messages MUST include the <code>rsr.chat/emotes</code> tag as originally computed at
delivery time. Servers MUST NOT re-resolve emote tokens during history replay. Asset URLs
embedded in history tags are not guaranteed to remain valid indefinitely; see the grace
period note under EMOTE REMOVE.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="guild-integration">Guild Integration<a href="#guild-integration" class="hash-link" aria-label="Direct link to Guild Integration" title="Direct link to Guild Integration" translate="no">​</a></h2>
<p>When <code>rsr.chat/guild</code> is negotiated:</p>
<ul>
<li class="">Guild operators MAY manage the guild emote registry via EMOTE ADD, EMOTE REMOVE, and
EMOTE RENAME targeting <code>guild:&lt;guildname&gt;</code>.</li>
<li class="">Guild-scoped emotes are available to all guild members across all channels within the
guild.</li>
<li class="">When resolving a bare <code>:name:</code> token in a guild channel, the guild registry is searched
after the channel registry but before the server-global registry, as per the precedence
order defined in Emote Identifiers.</li>
<li class="">Guild emote packs MAY be defined via EMOTEPAK commands targeting the guild scope.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="rbac-integration">RBAC Integration<a href="#rbac-integration" class="hash-link" aria-label="Direct link to RBAC Integration" title="Direct link to RBAC Integration" translate="no">​</a></h2>
<p>When <code>rsr.chat/rbac</code> is negotiated, the following permission identifiers are defined by
this extension:</p>
<table><thead><tr><th>Permission identifier</th><th>Description</th></tr></thead><tbody><tr><td><code>emote.add</code></td><td>Register a new emote in this scope</td></tr><tr><td><code>emote.remove</code></td><td>Remove an emote from this scope</td></tr><tr><td><code>emote.rename</code></td><td>Rename an emote in this scope</td></tr><tr><td><code>emote.list</code></td><td>List emotes in this scope</td></tr><tr><td><code>emote.use</code></td><td>Use emotes from this scope in messages</td></tr><tr><td><code>emote.use.animated</code></td><td>Use animated emotes from this scope</td></tr><tr><td><code>emote.pack.manage</code></td><td>Create, delete, and modify emote packs in this scope</td></tr><tr><td><code>emote.configure</code></td><td>Set the <code>emotes-enabled</code> channel metadata key</td></tr></tbody></table>
<p>Servers MAY restrict use of animated emotes separately from static emotes via
<code>emote.use.animated</code>. If a client without <code>emote.use.animated</code> uses an animated emote
token, the server MUST resolve it to the static fallback asset if one exists, or treat
it as unresolvable if none does.</p>
<p>RBAC rules for emote permissions MAY be scoped to a channel category or guild prefix
using the scope syntax defined by <code>rsr.chat/channel-categories</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-moderation-integration">Advanced Moderation Integration<a href="#advanced-moderation-integration" class="hash-link" aria-label="Direct link to Advanced Moderation Integration" title="Direct link to Advanced Moderation Integration" translate="no">​</a></h2>
<p>When <code>rsr.chat/advanced-moderation</code> is negotiated, the following predicates are defined
for use in moderation rule conditions (normative syntax defined by that specification):</p>
<table><thead><tr><th>Predicate</th><th>Matches when</th></tr></thead><tbody><tr><td><code>emote:has-emote</code></td><td>The message body contains at least one emote token</td></tr><tr><td><code>emote:count&gt;=&lt;n&gt;</code></td><td>The message contains at least n emote tokens</td></tr><tr><td><code>emote:is-animated</code></td><td>At least one resolved emote in the message is animated</td></tr><tr><td><code>emote:scope=global</code></td><td>At least one resolved emote is from the global scope</td></tr><tr><td><code>emote:scope=guild</code></td><td>At least one resolved emote is from a guild scope</td></tr><tr><td><code>emote:scope=channel</code></td><td>At least one resolved emote is from a channel scope</td></tr><tr><td><code>emote:id=&lt;qualified-id&gt;</code></td><td>The specific emote appears in the message</td></tr><tr><td><code>emote:unresolved</code></td><td>At least one emote token could not be resolved</td></tr></tbody></table>
<p>These predicates may be used to restrict emote-heavy messages in low-bandwidth channels,
prevent animated emotes in accessibility-sensitive contexts, or flag messages containing
specific emotes for moderation review.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="interaction-with-rsrchatreactions">Interaction with rsr.chat/reactions<a href="#interaction-with-rsrchatreactions" class="hash-link" aria-label="Direct link to Interaction with rsr.chat/reactions" title="Direct link to Interaction with rsr.chat/reactions" translate="no">​</a></h2>
<p><code>rsr.chat/reactions</code> depends on this extension for emote validation. All emote identifier
syntax, namespacing, precedence, and validation rules defined here apply equally to
reaction emotes. The following integration points apply:</p>
<ul>
<li class="">Unicode emoji are valid reaction emotes without a registry entry.</li>
<li class="">Custom emote reaction identifiers MUST reference a registered emote in the server,
guild, or channel registry visible to both the reactor and the target channel.</li>
<li class="">The server MUST validate reaction emote identifiers using the same resolution and
precedence rules as inline message emotes.</li>
<li class="">The <code>rsr.chat/reaction-summary</code> tag defined by <code>rsr.chat/reactions</code> uses the same
emote identifier syntax defined here.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="interaction-with-non-negotiating-clients">Interaction with Non-Negotiating Clients<a href="#interaction-with-non-negotiating-clients" class="hash-link" aria-label="Direct link to Interaction with Non-Negotiating Clients" title="Direct link to Interaction with Non-Negotiating Clients" translate="no">​</a></h2>
<p>Non-negotiating clients receive messages with emote tokens as plain text and without the
<code>rsr.chat/emotes</code> tag. They interact with emote tokens solely as the string <code>:name:</code> or
similar. EMOTE and EMOTEPAK commands sent by non-negotiating clients MUST be rejected with
ERR_UNKNOWNCOMMAND. This is the correct degraded behaviour and requires no special server
handling beyond standard tag omission.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="capability-negotiation">Capability negotiation<a href="#capability-negotiation" class="hash-link" aria-label="Direct link to Capability negotiation" title="Direct link to Capability negotiation" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: CAP LS 302</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: CAP * LS :rsr.chat/emote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: CAP REQ :rsr.chat/emote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: CAP * ACK :rsr.chat/emote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: NICK alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: USER alice 0 * :Alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: 005 alice EMOTEMAX=500 EMOTEGUILDMAX=100 EMOTECHANMAX=20 EMOTELEN=32 EMOTEFORMATS=webp,png,gif EMOTEANIM=1 :are supported by this server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: 001 alice :Welcome to the network</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="registering-a-server-global-emote">Registering a server-global emote<a href="#registering-a-server-global-emote" class="hash-link" aria-label="Direct link to Registering a server-global emote" title="Direct link to Registering a server-global emote" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE ADD global thumbsup webp https://cdn.example.com/emotes/thumbsup.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :serverop!serverop@host EMOTE ADD global thumbsup webp https://cdn.example.com/emotes/thumbsup.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (broadcast to all negotiating clients)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="registering-a-guild-scoped-emote">Registering a guild-scoped emote<a href="#registering-a-guild-scoped-emote" class="hash-link" aria-label="Direct link to Registering a guild-scoped emote" title="Direct link to Registering a guild-scoped emote" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE ADD guild:acmecorp blobwave webp https://cdn.acmecorp.example/emotes/blobwave.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :alice!alice@host EMOTE ADD guild:acmecorp blobwave webp https://cdn.acmecorp.example/emotes/blobwave.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (broadcast to acmecorp guild members that negotiated the capability)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="registering-a-channel-scoped-emote">Registering a channel-scoped emote<a href="#registering-a-channel-scoped-emote" class="hash-link" aria-label="Direct link to Registering a channel-scoped emote" title="Direct link to Registering a channel-scoped emote" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE ADD chan:#engineering/general approved webp https://cdn.example.com/emotes/approved.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :alice!alice@host EMOTE ADD chan:#engineering/general approved webp https://cdn.example.com/emotes/approved.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (broadcast to #engineering/general members that negotiated the capability)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="message-delivery-with-inline-emote-tags">Message delivery with inline emote tags<a href="#message-delivery-with-inline-emote-tags" class="hash-link" aria-label="Direct link to Message delivery with inline emote tags" title="Direct link to Message delivery with inline emote tags" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: PRIVMSG #engineering/general :Great work :blobwave: :thumbsup:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Negotiating recipients receive:)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@MSGID=01HQ7K2N4R8VXJD3MCWBPZT56Y;rsr.chat/emotes=12::acmecorp/blobwave:https://cdn.acmecorp.example/emotes/blobwave.webp:animated;23::thumbsup:https://cdn.example.com/emotes/thumbsup.webp :alice!alice@host PRIVMSG #engineering/general :Great work :blobwave: :thumbsup:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Non-negotiating recipients receive:)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:alice!alice@host PRIVMSG #engineering/general :Great work :blobwave: :thumbsup:</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="bare-name-resolved-with-guild-precedence">Bare name resolved with guild precedence<a href="#bare-name-resolved-with-guild-precedence" class="hash-link" aria-label="Direct link to Bare name resolved with guild precedence" title="Direct link to Bare name resolved with guild precedence" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(alice is in guild acmecorp which has a guild-scoped emote named &quot;wave&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    the server also has a global emote named &quot;wave&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: PRIVMSG #engineering/general :See you tomorrow :wave:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: (rsr.chat/emotes tag carries :acmecorp/wave: not :wave:, guild takes precedence)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unresolvable-emote-token">Unresolvable emote token<a href="#unresolvable-emote-token" class="hash-link" aria-label="Direct link to Unresolvable emote token" title="Direct link to Unresolvable emote token" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: PRIVMSG #engineering/general :Check this out :nonexistentemote:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: (rsr.chat/emotes tag omits the unresolvable token; :nonexistentemote: is plain text)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-list-with-batch">EMOTE LIST with batch<a href="#emote-list-with-batch" class="hash-link" aria-label="Direct link to EMOTE LIST with batch" title="Direct link to EMOTE LIST with batch" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE LIST global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server BATCH +el rsr.chat/emotelist global</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: @batch=el :server RPL_EMOTEENTRY alice global thumbsup :thumbsup: webp https://cdn.example.com/emotes/thumbsup.webp 2024-01-10T09:00:00.000Z serverop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: @batch=el :server RPL_EMOTEENTRY alice global wave :wave: webp https://cdn.example.com/emotes/wave.webp 2024-01-10T09:01:00.000Z serverop pack:basics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server BATCH -el</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server RPL_EMOTEEND alice global :End of emote list</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-and-populating-an-emote-pack">Creating and populating an emote pack<a href="#creating-and-populating-an-emote-pack" class="hash-link" aria-label="Direct link to Creating and populating an emote pack" title="Direct link to Creating and populating an emote pack" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTEPAK CREATE guild:acmecorp reactions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTEPAK ADD guild:acmecorp reactions blobwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTEPAK ADD guild:acmecorp reactions blobapprove</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTEPAK ADD guild:acmecorp reactions blobsad</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="asset-validation-failure">Asset validation failure<a href="#asset-validation-failure" class="hash-link" aria-label="Direct link to Asset validation failure" title="Direct link to Asset validation failure" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE ADD chan:#engineering/general toobig webp https://cdn.example.com/emotes/toobig.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server ERR_EMOTEINVALIDASSET alice :Asset exceeds maximum file size of 256 KiB</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="emote-limit-reached">Emote limit reached<a href="#emote-limit-reached" class="hash-link" aria-label="Direct link to Emote limit reached" title="Direct link to Emote limit reached" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE ADD chan:#engineering/general newemote webp https://cdn.example.com/emotes/newemote.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server ERR_EMOTEFULL alice chan:#engineering/general :Channel emote limit reached</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="category-scoped-emote-registration">Category-scoped emote registration<a href="#category-scoped-emote-registration" class="hash-link" aria-label="Direct link to Category-scoped emote registration" title="Direct link to Category-scoped emote registration" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE ADD chan:#engineering/ shipit webp https://cdn.example.com/emotes/shipit.webp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server BATCH +ce rsr.chat/emotelist #engineering/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: @batch=ce :server RPL_EMOTEENTRY alice chan:#engineering/general shipit :#engineering/general/shipit: webp https://cdn.example.com/emotes/shipit.webp 2024-03-15T10:00:00.000Z alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: @batch=ce :server RPL_EMOTEENTRY alice chan:#engineering/deploys shipit :#engineering/deploys/shipit: webp https://cdn.example.com/emotes/shipit.webp 2024-03-15T10:00:00.000Z alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :server BATCH -ce</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="removing-an-emote">Removing an emote<a href="#removing-an-emote" class="hash-link" aria-label="Direct link to Removing an emote" title="Direct link to Removing an emote" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C: EMOTE REMOVE guild:acmecorp blobwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">S: :alice!alice@host EMOTE REMOVE guild:acmecorp blobwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (broadcast to acmecorp guild members that negotiated the capability)</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/proto/extensions/did-signing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">rsr.chat/did-signing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/proto/extensions/extended-message-length"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">rsr.chat/extended-line-length</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a></li><li><a href="#capability" class="table-of-contents__link toc-highlight">Capability</a></li><li><a href="#isupport-tokens" class="table-of-contents__link toc-highlight">ISUPPORT Tokens</a></li><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li><li><a href="#emote-identifiers" class="table-of-contents__link toc-highlight">Emote Identifiers</a></li><li><a href="#asset-requirements" class="table-of-contents__link toc-highlight">Asset Requirements</a></li><li><a href="#inline-emote-token-syntax" class="table-of-contents__link toc-highlight">Inline Emote Token Syntax</a></li><li><a href="#inline-emote-tags" class="table-of-contents__link toc-highlight">Inline Emote Tags</a></li><li><a href="#commands" class="table-of-contents__link toc-highlight">Commands</a><ul><li><a href="#emote-add" class="table-of-contents__link toc-highlight">EMOTE ADD</a></li><li><a href="#emote-remove" class="table-of-contents__link toc-highlight">EMOTE REMOVE</a></li><li><a href="#emote-rename" class="table-of-contents__link toc-highlight">EMOTE RENAME</a></li><li><a href="#emote-list" class="table-of-contents__link toc-highlight">EMOTE LIST</a></li><li><a href="#emote-info" class="table-of-contents__link toc-highlight">EMOTE INFO</a></li></ul></li><li><a href="#emote-packs" class="table-of-contents__link toc-highlight">Emote Packs</a><ul><li><a href="#emotepak-create" class="table-of-contents__link toc-highlight">EMOTEPAK CREATE</a></li><li><a href="#emotepak-add" class="table-of-contents__link toc-highlight">EMOTEPAK ADD</a></li><li><a href="#emotepak-remove" class="table-of-contents__link toc-highlight">EMOTEPAK REMOVE</a></li><li><a href="#emotepak-delete" class="table-of-contents__link toc-highlight">EMOTEPAK DELETE</a></li><li><a href="#emotepak-list" class="table-of-contents__link toc-highlight">EMOTEPAK LIST</a></li></ul></li><li><a href="#server-numerics" class="table-of-contents__link toc-highlight">Server Numerics</a></li><li><a href="#emote-availability-by-scope" class="table-of-contents__link toc-highlight">Emote Availability by Scope</a><ul><li><a href="#server-global-emotes" class="table-of-contents__link toc-highlight">Server-global emotes</a></li><li><a href="#guild-scoped-emotes" class="table-of-contents__link toc-highlight">Guild-scoped emotes</a></li><li><a href="#channel-scoped-emotes" class="table-of-contents__link toc-highlight">Channel-scoped emotes</a></li></ul></li><li><a href="#reserved-channel-metadata-key" class="table-of-contents__link toc-highlight">Reserved Channel Metadata Key</a><ul><li><a href="#emotes-enabled" class="table-of-contents__link toc-highlight"><code>emotes-enabled</code></a></li></ul></li><li><a href="#history-integration" class="table-of-contents__link toc-highlight">History Integration</a></li><li><a href="#guild-integration" class="table-of-contents__link toc-highlight">Guild Integration</a></li><li><a href="#rbac-integration" class="table-of-contents__link toc-highlight">RBAC Integration</a></li><li><a href="#advanced-moderation-integration" class="table-of-contents__link toc-highlight">Advanced Moderation Integration</a></li><li><a href="#interaction-with-rsrchatreactions" class="table-of-contents__link toc-highlight">Interaction with rsr.chat/reactions</a></li><li><a href="#interaction-with-non-negotiating-clients" class="table-of-contents__link toc-highlight">Interaction with Non-Negotiating Clients</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#capability-negotiation" class="table-of-contents__link toc-highlight">Capability negotiation</a></li><li><a href="#registering-a-server-global-emote" class="table-of-contents__link toc-highlight">Registering a server-global emote</a></li><li><a href="#registering-a-guild-scoped-emote" class="table-of-contents__link toc-highlight">Registering a guild-scoped emote</a></li><li><a href="#registering-a-channel-scoped-emote" class="table-of-contents__link toc-highlight">Registering a channel-scoped emote</a></li><li><a href="#message-delivery-with-inline-emote-tags" class="table-of-contents__link toc-highlight">Message delivery with inline emote tags</a></li><li><a href="#bare-name-resolved-with-guild-precedence" class="table-of-contents__link toc-highlight">Bare name resolved with guild precedence</a></li><li><a href="#unresolvable-emote-token" class="table-of-contents__link toc-highlight">Unresolvable emote token</a></li><li><a href="#emote-list-with-batch" class="table-of-contents__link toc-highlight">EMOTE LIST with batch</a></li><li><a href="#creating-and-populating-an-emote-pack" class="table-of-contents__link toc-highlight">Creating and populating an emote pack</a></li><li><a href="#asset-validation-failure" class="table-of-contents__link toc-highlight">Asset validation failure</a></li><li><a href="#emote-limit-reached" class="table-of-contents__link toc-highlight">Emote limit reached</a></li><li><a href="#category-scoped-emote-registration" class="table-of-contents__link toc-highlight">Category-scoped emote registration</a></li><li><a href="#removing-an-emote" class="table-of-contents__link toc-highlight">Removing an emote</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.rsr.chat" target="_blank" rel="noopener noreferrer" class="footer__link-item">TODO</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/rsr.chat" target="_blank" rel="noopener noreferrer" class="footer__link-item">BlueSky<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025-2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>